import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as h,o as n}from"./app-DImQijK3.js";const l="/assets/system-resources-CySBGeDn.png",k="/assets/tools-full-DnoHGpKj.png",t="/assets/performance-mind-map-_qzRWZtH.png",p={};function e(r,s){return n(),a("div",null,s[0]||(s[0]=[h('<h1 id="linux性能相关工具和指标总结" tabindex="-1"><a class="header-anchor" href="#linux性能相关工具和指标总结"><span>Linux性能相关工具和指标总结</span></a></h1><p>本文收集了Linux相关的性能指标和工具。大部分资料来源于极客时间课程《<a href="https://time.geekbang.org/column/intro/100020901" target="_blank" rel="noopener noreferrer">Linux性能优化实战</a>》，工具使用资料大部分来源于：<a href="https://github.com/jaywcjlove/linux-command" target="_blank" rel="noopener noreferrer">linux-command</a>。</p><h2 id="总揽" tabindex="-1"><a class="header-anchor" href="#总揽"><span>总揽</span></a></h2><h3 id="系统资源" tabindex="-1"><a class="header-anchor" href="#系统资源"><span>系统资源</span></a></h3><figure><img src="'+l+'" alt="img.png" tabindex="0" loading="lazy"><figcaption>img.png</figcaption></figure><h3 id="工具图谱" tabindex="-1"><a class="header-anchor" href="#工具图谱"><span>工具图谱</span></a></h3><figure><img src="'+k+'" alt="img.png" tabindex="0" loading="lazy"><figcaption>img.png</figcaption></figure><p>图片来自<a href="https://www.brendangregg.com/Perf/linux_perf_tools_full.png" target="_blank" rel="noopener noreferrer">brendangregg.com</a></p><h3 id="思维导图" tabindex="-1"><a class="header-anchor" href="#思维导图"><span>思维导图</span></a></h3><figure><img src="'+t+`" alt="img.png" tabindex="0" loading="lazy"><figcaption>img.png</figcaption></figure><h2 id="cpu" tabindex="-1"><a class="header-anchor" href="#cpu"><span>CPU</span></a></h2><h3 id="平均负载-load-average" tabindex="-1"><a class="header-anchor" href="#平均负载-load-average"><span>平均负载（load average）</span></a></h3><p>平均负载（Load Average）是指单位时间内，系统处于<strong>可运行状态</strong>和<strong>不可中断状态</strong>的平均进程数，也就是<strong>平均活跃进程数</strong>，它和CPU使用率并没有直接关系。</p><p>所谓可运行状态的进程，是指正在使用CPU或者正在等待CPU的进程，也就是我们常用ps命令看到的，处于R状态（Running 或 Runnable）的进程。</p><p>不可中断状态的进程则是正处于内核态关键流程中的进程，并且这些流程是不可打断的，比如最常见的是等待硬件设备的I/O响应，也就是我们在ps命令中看到的D状态（Uninterruptible Sleep，也称为Disk Sleep）的进程。</p><p>比如，当一个进程向磁盘读写数据时，为了保证数据的一致性，在得到磁盘回复前，它是不能被其他进程或者中断打断的，这个时候的进程就处于不可中断状态。如果此时的进程被打断了，就容易出现磁盘数据与进程数据不一致的问题。</p><p>所以，不可中断状态实际上是系统对进程和硬件设备的一种保护机制。</p><p>平均活跃进程数，直观上的理解就是单位时间内的活跃进程数，但它实际上是活跃进程数的指数衰减平均值。</p><p>既然平均的是活跃进程数，那么最理想的，就是每个CPU上都刚好运行着一个进程，这样每个CPU都得到了充分利用。比如当平均负载为2时，意味着什么呢？</p><ul><li>在只有2个CPU的系统上，意味着所有的CPU都刚好被完全占用。</li><li>在4个CPU的系统上，意味着CPU有50%的空闲。</li><li>而在只有1个CPU的系统中，则意味着有一半的进程竞争不到CPU。</li></ul><h4 id="平均负载为多少时合理" tabindex="-1"><a class="header-anchor" href="#平均负载为多少时合理"><span>平均负载为多少时合理</span></a></h4><p>经验值：<strong>当平均负载高于 CPU 数量70%的时候</strong>，就应该分析排查负载高的问题了。</p><ul><li>如果1分钟、5分钟、15分钟的三个值基本相同，或者相差不大，那就说明系统负载很平稳。</li><li>但如果1分钟的值远小于15 分钟的值，就说明系统最近1分钟的负载在减少，而过去15分钟内却有很大的负载。</li><li>反过来，如果1分钟的值远大于 15 分钟的值，就说明最近1分钟的负载在增加，这种增加有可能只是临时性的，也有可能还会持续增加下去，所以就需要持续观察。一旦1分钟的平均负载接近或超过了CPU的个数，就意味着系统正在发生过载的问题，这时就得分析调查是哪里导致的问题，并要想办法优化了。</li></ul><h4 id="平均负载与cpu使用率" tabindex="-1"><a class="header-anchor" href="#平均负载与cpu使用率"><span>平均负载与CPU使用率</span></a></h4><p>平均负载是指单位时间内，处于可运行状态和不可中断状态的进程数。所以，它不仅包括了<strong>正在使用 CPU</strong> 的进程，还包括<strong>等待 CPU 和等待 I/O</strong> 的进程。</p><p>而 CPU 使用率，是单位时间内 CPU 繁忙情况的统计，跟平均负载并不一定完全对应。比如：</p><ul><li>CPU 密集型进程，使用大量 CPU 会导致平均负载升高，此时这两者是一致的；</li><li>I/O 密集型进程，等待 I/O 也会导致平均负载升高，但 CPU 使用率不一定很高；</li><li>大量等待 CPU 的进程调度也会导致平均负载升高，此时的CPU使用率也会比较高。</li></ul><h3 id="stress" tabindex="-1"><a class="header-anchor" href="#stress"><span>stress</span></a></h3><p>stress 是一个 Linux 系统压力测试工具，可以用作异常进程模拟平均负载升高的场景。</p><p>CPU 密集型进程：模拟一个 CPU 使用率 100%</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stress</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cpu</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --timeout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 600</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>I/O 密集型进程：模拟 I/O 压力，即不停地执行 sync</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stress</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --timeout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 600</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>大量进程的场景：模拟 8 个进程</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stress</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --timeout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 600</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="mpstat" tabindex="-1"><a class="header-anchor" href="#mpstat"><span>mpstat</span></a></h3><p>mpstat 是一个常用的多核 CPU 性能分析工具，用来实时查看每个 CPU 的性能指标，以及所有CPU的平均指标。</p><p>语法：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mpstat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [选项] [</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">间隔时间</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">次数</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>选项：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-P：指定CPU编号。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>参数：</p><ul><li>间隔时间：每次报告的间隔时间（秒）；</li><li>次数：显示报告的次数。</li></ul><p>表头含义：</p><ul><li>%user：表示处理用户进程所使用CPU的百分比。</li><li>%nice：表示在用户级别处理经nice降级的程序所使用CPU的百分比。</li><li>%system：表示内核进程使用的CPU百分比。</li><li>%iowait：表示等待进行I/O所占用CPU时间百分比。</li><li>%irq：表示用于处理系统中断的CPU百分比。</li><li>%soft：表示用于处理软件中断的CPU百分比。</li><li>%steal：在管理程序为另一个虚拟处理器服务时，显示虚拟的一个或多个CPU在非自愿等待中花费的时间的百分比。</li><li>%guest：表示一个或多个CPU在运行虚拟处理器时所花费的时间百分比。</li><li>%gnice：表示一个或多个CPU在运行经nice降级后的虚拟处理器时所花费的时间百分比。</li><li>%idle：CPU的空闲时间百分比。</li></ul><p>实例：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> 显示所有CPU的指标，并在间隔5秒输出一组数据</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mpstat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -P</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ALL</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Linux</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4.15.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (ubuntu)     09/22/18     _x86_64_    (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CPU</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">13:41:28</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     CPU</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %usr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   %nice</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %sys</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %iowait</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %irq</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   %soft</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  %steal</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  %guest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  %gnice</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   %idle</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">13:41:33</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     all</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.21</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   12.07</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   32.67</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.21</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   54.84</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">13:41:33</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.43</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   23.87</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   67.53</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.43</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    7.74</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">13:41:33</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.81</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.20</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   98.99</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pidstat" tabindex="-1"><a class="header-anchor" href="#pidstat"><span>pidstat</span></a></h3><p>pidstat 是一个常用的进程性能分析工具，用来实时查看进程的 CPU、内存、I/O 以及上下文切换等性能指标。</p><p>语法：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pidstat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">选项</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [ &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">时间间</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">隔&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [ &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">次</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">数&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>选项</p><ul><li>u：默认的参数，显示各个进程的cpu使用统计</li><li>r：显示各个进程的内存使用统计</li><li>d：显示各个进程的IO使用情况</li><li>w：显示每个进程的上下文切换情况</li><li>t：显示到线程的统计信息</li><li>p：指定进程号</li><li>T { TASK | CHILD | ALL } 这个选项指定了pidstat监控的。TASK表示报告独立的task，CHILD关键字表示报告进程下所有线程统计信息。ALL表示报告独立的task和task下面的所有线程。 注意：task和子线程的全局的统计信息和pidstat选项无关。这些统计信息不会对应到当前的统计间隔，这些统计信息只有在子线程kill或者完成的时候才会被收集。</li><li>V：版本号</li><li>h：在一行上显示了所有活动，这样其他程序可以容易解析。</li><li>I：在SMP环境，表示任务的CPU使用率/内核数量</li><li>l：显示命令名和所有参数</li></ul><h4 id="查看所有进程的cpu使用情况" tabindex="-1"><a class="header-anchor" href="#查看所有进程的cpu使用情况"><span>查看所有进程的CPU使用情况</span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># pidstat -u -p ALL</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %usr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %system</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  %guest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %CPU</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   CPU</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.03</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.05</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.08</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    20</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         2</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    28</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  kthreadd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  rcu_gp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         4</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  rcu_par_gp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  kworker/0:0H-kblockd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         9</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    38</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  mm_percpu_wq</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ksoftirqd/0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        11</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.23</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.23</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    15</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  rcu_sched</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        12</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  migration/0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        14</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  cpuhp/0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:04:06</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        15</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  cpuhp/1</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段说明</p><ul><li>PID：进程ID</li><li>%usr：进程在用户空间占用cpu的百分比</li><li>%system：进程在内核空间占用cpu的百分比</li><li>%guest：进程在虚拟机占用cpu的百分比</li><li>%CPU：进程占用cpu的百分比</li><li>CPU：处理进程的cpu编号</li><li>Command：当前进程对应的命令</li></ul><h4 id="查看所有进程的内存使用情况" tabindex="-1"><a class="header-anchor" href="#查看所有进程的内存使用情况"><span>查看所有进程的内存使用情况</span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># pidstat -r</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  minflt/s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  majflt/s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     VSZ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    RSS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   %MEM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      7.24</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.05</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  191312</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   4208</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1407</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2.02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.09</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   39316</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   9016</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.03</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd-journal</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1442</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.03</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  190380</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   1080</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  lvmetad</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1457</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.46</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   46252</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   1560</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd-udevd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2429</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.11</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  163620</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   9472</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.03</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  sshd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   992</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2446</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    8588</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    996</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  lsmd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2447</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.05</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   90572</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   1468</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  rngd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2448</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.15</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  451272</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   3520</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  udisksd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2449</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.18</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  396488</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   1948</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  accounts-daemon</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:10:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2454</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  201336</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   1464</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  gssproxy</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段说明</p><ul><li>PID：进程标识符</li><li>Minflt/s:任务每秒发生的次要错误，不需要从磁盘中加载内存页</li><li>Majflt/s:任务每秒发生的主要错误，需要从磁盘中加载内存页</li><li>VSZ：虚拟地址大小，虚拟内存的使用KB</li><li>RSS：常驻集合大小，非交换区物理内存使用KB</li><li>Command：task命令名</li></ul><h4 id="查看所有进程的io使用情况" tabindex="-1"><a class="header-anchor" href="#查看所有进程的io使用情况"><span>查看所有进程的IO使用情况</span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># pidstat -d</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   kB_rd/s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   kB_wr/s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> kB_ccwr/s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    250.05</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     11.57</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2.13</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       224</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1.21</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  khugepaged</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       290</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.03</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  kswapd0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       291</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  kswapd1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1312</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1.03</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  xfsaild/dm-0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1407</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1.31</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd-journal</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1442</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  lvmetad</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1457</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1.77</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd-udevd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   992</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2446</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.79</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  lsmd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2447</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.07</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  rngd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:12:30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      2448</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.46</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  udisksd</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段说明</p><ul><li>PID：进程id</li><li>kB_rd/s：每秒从磁盘读取的KB</li><li>kB_wr/s：每秒写入磁盘KB</li><li>kB_ccwr/s：任务取消的写入磁盘的KB。当任务截断脏的pagecache的时候会发生。</li><li>COMMAND:task的命令名</li></ul><h4 id="查看进程的上下文切换情况" tabindex="-1"><a class="header-anchor" href="#查看进程的上下文切换情况"><span>查看进程的上下文切换情况</span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># pidstat -w</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   cswch/s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nvcswch/s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      3.15</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.03</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  systemd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         2</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.13</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  kthreadd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  rcu_gp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         4</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  rcu_par_gp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  kworker/0:0H-kblockd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         9</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  mm_percpu_wq</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11:15:52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      1.99</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ksoftirqd/0</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段含义</p><ul><li>PID:进程id</li><li>Cswch/s:每秒主动任务上下文切换数量</li><li>Nvcswch/s:每秒被动任务上下文切换数量</li><li>Command:命令名</li></ul>`,69)]))}const A=i(p,[["render",e]]),y=JSON.parse('{"path":"/posts/linux-performance-summary.html","title":"Linux性能相关工具和指标总结","lang":"zh-CN","frontmatter":{"category":["性能","非原创","收集整理"],"tag":["Linux"],"date":"2024-06-19T00:00:00.000Z","description":"Linux性能相关工具和指标总结 本文收集了Linux相关的性能指标和工具。大部分资料来源于极客时间课程《Linux性能优化实战》，工具使用资料大部分来源于：linux-command。 总揽 系统资源 img.pngimg.png 工具图谱 img.pngimg.png 图片来自brendangregg.com 思维导图 img.pngimg.png...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux性能相关工具和指标总结\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-06-19T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-09T14:50:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"coldgust\\",\\"url\\":\\"https://github.com/coldgust\\",\\"email\\":\\"zhengxiaojian@apache.org\\"}]}"],["meta",{"property":"og:url","content":"https://coldgust.github.io/posts/linux-performance-summary.html"}],["meta",{"property":"og:site_name","content":"coldgust"}],["meta",{"property":"og:title","content":"Linux性能相关工具和指标总结"}],["meta",{"property":"og:description","content":"Linux性能相关工具和指标总结 本文收集了Linux相关的性能指标和工具。大部分资料来源于极客时间课程《Linux性能优化实战》，工具使用资料大部分来源于：linux-command。 总揽 系统资源 img.pngimg.png 工具图谱 img.pngimg.png 图片来自brendangregg.com 思维导图 img.pngimg.png..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-09T14:50:45.000Z"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2024-06-19T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-09T14:50:45.000Z"}]]},"git":{"createdTime":1718812891000,"updatedTime":1749480645000,"contributors":[{"name":"Xiaojian Zheng","username":"","email":"zhengxiaojian@apache.org","commits":3}]},"readingTime":{"minutes":18,"words":2700},"filePathRelative":"posts/linux-performance-summary.md","excerpt":"\\n<p>本文收集了Linux相关的性能指标和工具。大部分资料来源于极客时间课程《<a href=\\"https://time.geekbang.org/column/intro/100020901\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Linux性能优化实战</a>》，工具使用资料大部分来源于：<a href=\\"https://github.com/jaywcjlove/linux-command\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">linux-command</a>。</p>\\n<h2>总揽</h2>","autoDesc":true}');export{A as comp,y as data};
